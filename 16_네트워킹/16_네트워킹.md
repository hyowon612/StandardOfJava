# 1. 네트워킹

**네트워킹 - 두 대 이상의 컴퓨터를 케이블로 연결하여 네트워크를 구성하는 것**

## 1.1 클라이언트/서버(client/server)

서버 - 서비스를 제공하는 컴퓨터

클라이언트 - 서비스를 사용하는 컴퓨터

서비스 - 서버가 클라이언트로부터 요청받은 작업을 처리하여 그 결과를 제공하는 것

## 1.2 IP주소(IP address)

**IP주소** - 컴퓨터(호스트)를 구별하는데 사용되는 고유한 값, 인터넷에 연결된 모든 컴퓨터를 IP주소를 가짐

- 4byte(32 bit)의 정수로 구성
- 네트워크주소와 호스트주소로 나눌 수 있음
- 네트워크주소가 차지하는 자리수가 많을수록 호스트주소의 범위가 줄어들기 때문에 네트워크의 규모가 작아짐
- 호스트주소가 0인 것은 네트워크 자신을 나타냄

## 1.3 InetAddress

자바에서 IP주소를 다루기 위한 클래스로 InetAddress 제공

`getAllByName()` - 모든 호스트의 IP주소를 배열에 담아 반환

`getLocalHost()` - 호스트명과 IP주소 반환

## 1.4 URL(Uniform Resource Locator)

**URL** - 인터넷에 존재하는 여러 서버들이 제공하는 자원에 접근할 수 잇는 주소를 표현하기 위한 것

**`프로토콜://호스트명:포트번호/경로명/파일명?쿼리스트링#참조`** 

**프로토콜** - 자원에 접근하기 위해 서버와 통신하는데 사용되는 통신규약(http)

**호스트명** - 자원을 제공하는 서버의 이름

**포트번호** - 통신에 사용되는 서버의 포트번호

**경로명** - 접근하려는 자원이 저장된 서버상의 위치

**파일명** - 접근하려는 자원의 이름

## 1.5 URLConnection

**URLConnection** - 어플리케이션과 URL간의 통신연결을 나타내는 클래스의 최상위 클래스(추상클래스)

-> HttpURLConnection, JarURLConnection

URL의 프로토콜이 http프로토콜이라면 openConnection()은 Http URLConnection을 반환

# 2. 소켓 프로그래밍

소켓 프로그래밍 - 소켓을 이용한 통신 프로그래밍

**소켓** - 프로세스간의 통신에 사용되는 양쪽 끝단

자바에서는 java.net패키지를 통해 소켓 프로그래밍 지원

## 2.1 TCP와 UDP

**TCP/IP 프로토콜** - 이기종 시스템간의 통신을 위한 표준 프로토콜

TCP와 UDP 모두 TCP/IP 프로토콜에 포함

| 항목        | TCP                                                          | UDP                                                          |
| ----------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 연결방식    | 연결기반(connection-oriented)<br />- 연결 후 통신(전화기)<br />- 1:1 통신방식 | 비연결기반(connectionless-oriented)<br />- 연결없이 통신(소포)<br />- 1:1, 1:n, n:n 통신방식 |
| 특징        | 데이터의 경계를 구분안함(byte-stream)<br />신뢰성 있는 데이터 전송<br />- 데이터의 전송순서가 보장됨<br />- 데이터의 수신여부를 확인함(데이터가 손실되면 재전송됨)<br />- 패킷을 관리할 필요가 없음<br />UDP보다 전송속도가 느림 | 데이터의 경계를 구분함(datagram)<br />신뢰성 없는 데이터 전송<br />- 데이터의 전송순서가 바뀔 수 있음<br />- 데이터의 수신여부를 확인안함(데이터가 손실되어도 알 수 없음)<br />- 패킷을 관리해주어야 함<br />TCP보다 전송속도가 빠름 |
| 관련 클래스 | Socket<br />ServerSocket                                     | DatagramSocket<br />DatagramPacket<br />MulticastSocket      |

## 2.2 TCP소켓 프로그래밍

서버 프로그램과 클라이언트 프로그램간의 통신과정

1. 서버 프로그램에서는 서버소켓을 사용해서 서버 컴퓨터의 특정 포트에서 클라이언트의 연결요청을 처리할 준비를 한다.
2. 클라이언트 프로그램은 접속할 서버의 IP주소와 포트정보를 가지고 소켓을 생성해서 서버에 연결을 요청한다.
3. 서버소켓은 클라이언트의 연결요청을 받으면 서버에 새로운 소켓을 생성해서 클라이언트의 소켓과 연결되도록 한다.
4. 이제 클라이언트의 소켓과 새로 생성된 서버의 소켓은 서버소켓과 관계없이 일대일 통신을 한다.



**Socket**

- 프로세스간의 통신을 담당하며, InputStream과 OutputStream을 가지고 있다.
- 이 두 스트림을 통해 프로세스간의 통신이 이루어진다.

**ServerSocket**

- 포트와 연결되어 외부의 연결요청을 기다리다 연결요청이 들어오면, Socket을 생성해서 소켓과 소켓간의 통신이 이루어지도록 한다.
- 한 포트에 하나의 ServerSocket만 연결할 수 있다.

## 2.3 UDP소켓 프로그래밍

- DatagramSocket과 DatagramPacket을 사용

- 연결지향적인 프로토콜이 아니기 때문에 ServerSocket 필요X
- DatagramPacket은 헤더와 데이터로 구성
- 헤더에는 DatagramPacket을 수신한 호스트의 정보가 저장
- DatagramPacket을 전송하면 DatagramPacket에 지정된 주소의 DatagramSocket에 도착
